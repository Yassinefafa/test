<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-100">
  <div class="container mx-auto p-4">
    <h1 class="text-3xl text-center font-semibold mb-6">ğŸ“Š Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨ÙŠØ¦ÙŠØ© ÙˆØ§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©</h1>

    <!-- ÙÙ„ØªØ±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
    <div class="p-4 bg-gray-100 rounded-lg shadow mb-6">
      <h2 class="text-lg font-semibold mb-2">ğŸ” ÙÙ„ØªØ±Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4">
        <div>
          <label for="startDate" class="block text-sm font-medium text-gray-700">ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ® Ù…Ù†:</label>
          <input type="date" id="startDate" class="mt-1 block w-full p-2 border rounded" />
        </div>
        <div>
          <label for="endDate" class="block text-sm font-medium text-gray-700">ğŸ“… Ø§Ù„ØªØ§Ø±ÙŠØ® Ø¥Ù„Ù‰:</label>
          <input type="date" id="endDate" class="mt-1 block w-full p-2 border rounded" />
        </div>
        <div>
          <label for="startTime" class="block text-sm font-medium text-gray-700">â° Ø§Ù„ÙˆÙ‚Øª Ù…Ù†:</label>
          <input type="time" id="startTime" class="mt-1 block w-full p-2 border rounded" />
        </div>
        <div>
          <label for="endTime" class="block text-sm font-medium text-gray-700">â° Ø§Ù„ÙˆÙ‚Øª Ø¥Ù„Ù‰:</label>
          <input type="time" id="endTime" class="mt-1 block w-full p-2 border rounded" />
        </div>
      </div>
    </div>

    <!-- Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ù„Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª -->
    <div class="overflow-x-auto bg-white shadow-md rounded-lg">
      <table class="min-w-full text-sm text-center">
        <thead class="bg-gray-200">
          <tr>
            <th class="px-4 py-2">Ø§Ù„ØªØ§Ø±ÙŠØ®</th>
            <th class="px-4 py-2">Ø§Ù„ÙˆÙ‚Øª</th>
            <th class="px-4 py-2">Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© (Â°C)</th>
            <th class="px-4 py-2">Ø§Ù„Ø±Ø·ÙˆØ¨Ø© (%)</th>
            <th class="px-4 py-2">Ø§Ù„ØªØ³Ø§Ø±Ø¹ X</th>
            <th class="px-4 py-2">Ø§Ù„ØªØ³Ø§Ø±Ø¹ Y</th>
            <th class="px-4 py-2">Ø§Ù„ØªØ³Ø§Ø±Ø¹ Z</th>
            <th class="px-4 py-2">Ø§Ù„Ø¬Ù‡Ø¯</th>
          </tr>
        </thead>
        <tbody id="dataTable">
          <!-- Ø³ÙŠØªÙ… Ù…Ù„Ø¡ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ù†Ø§ Ø¹Ø¨Ø± JavaScript -->
        </tbody>
      </table>
    </div>

    <!-- Ø±Ø³Ù… Ø¨ÙŠØ§Ù†ÙŠ -->
    <div class="mt-6">
      <canvas id="dataChart"></canvas>
    </div>
  </div>

  <script>
    // Ù†Ù…ÙˆØ°Ø¬ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ø¹Ù„Ù‰ Ø³Ø¨ÙŠÙ„ Ø§Ù„Ù…Ø«Ø§Ù„)
    const data = [
      { date: "2025-06-23", time: "16:43:43", temp: 28.9, humidity: 48, accelX: 0.96, accelY: -0.00, accelZ: 0.28, voltage: 1.52 },
      { date: "2025-06-23", time: "16:44:02", temp: 28.9, humidity: 48, accelX: 0.96, accelY: -0.00, accelZ: 0.28, voltage: 1.53 },
      { date: "2025-06-23", time: "16:44:19", temp: 29.0, humidity: 47, accelX: 0.97, accelY: -0.01, accelZ: 0.28, voltage: 1.54 },
      { date: "2025-06-23", time: "16:44:39", temp: 29.1, humidity: 47, accelX: 0.97, accelY: -0.01, accelZ: 0.28, voltage: 1.55 },
      // Ø£Ø¶Ù Ø§Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‡Ù†Ø§ Ø­Ø³Ø¨ Ø§Ù„Ø­Ø§Ø¬Ø©
    ];

    // ØªØ­Ø¯ÙŠØ« Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
    function updateTable(filteredData) {
      const tableBody = document.getElementById("dataTable");
      tableBody.innerHTML = "";
      filteredData.forEach(row => {
        const tr = document.createElement("tr");
        tr.innerHTML = `
          <td class="px-4 py-2">${row.date}</td>
          <td class="px-4 py-2">${row.time}</td>
          <td class="px-4 py-2">${row.temp} Â°C</td>
          <td class="px-4 py-2">${row.humidity} %</td>
          <td class="px-4 py-2">${row.accelX}</td>
          <td class="px-4 py-2">${row.accelY}</td>
          <td class="px-4 py-2">${row.accelZ}</td>
          <td class="px-4 py-2">${row.voltage} V</td>
        `;
        tableBody.appendChild(tr);
      });
    }

    // Ø§Ù„ÙÙ„ØªØ±Ø© Ø­Ø³Ø¨ Ø§Ù„ØªØ§Ø±ÙŠØ® ÙˆØ§Ù„ÙˆÙ‚Øª
    function filterData() {
      const startDate = document.getElementById('startDate').value;
      const endDate = document.getElementById('endDate').value;
      const startTime = document.getElementById('startTime').value;
      const endTime = document.getElementById('endTime').value;

      const filteredData = data.filter(row => {
        const rowDate = row.date;
        const rowTime = row.time;

        const dateCondition = (!startDate || rowDate >= startDate) && (!endDate || rowDate <= endDate);
        const timeCondition = (!startTime || rowTime >= startTime) && (!endTime || rowTime <= endTime);

        return dateCondition && timeCondition;
      });

      updateTable(filteredData);
    }

    // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø±Ø³Ù… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠ
    const ctx = document.getElementById('dataChart').getContext('2d');
    const dataChart = new Chart(ctx, {
      type: 'line',
      data: {
        labels: data.map(row => row.time),  // ÙˆØ¶Ø¹ Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø­ÙˆØ± Ø§Ù„Ø£ÙÙ‚ÙŠ
        datasets: [
          {
            label: 'Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© (Â°C)',
            data: data.map(row => row.temp),
            borderColor: 'rgba(255, 99, 132, 1)',
            fill: false,
          },
          {
            label: 'Ø§Ù„Ø±Ø·ÙˆØ¨Ø© (%)',
            data: data.map(row => row.humidity),
            borderColor: 'rgba(54, 162, 235, 1)',
            fill: false,
          },
          {
            label: 'Ø§Ù„Ø¬Ù‡Ø¯ (V)',
            data: data.map(row => row.voltage),
            borderColor: 'rgba(75, 192, 192, 1)',
            fill: false,
          },
        ],
      },
    });

    // Ø§Ù„Ø§Ø³ØªÙ…Ø§Ø¹ Ù„ØªØºÙŠÙŠØ±Ø§Øª Ø§Ù„ÙÙ„Ø§ØªØ±
    document.getElementById('startDate').addEventListener('change', filterData);
    document.getElementById('endDate').addEventListener('change', filterData);
    document.getElementById('startTime').addEventListener('change', filterData);
    document.getElementById('endTime').addEventListener('change', filterData);

    // ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£ÙˆÙ„ÙŠØ©
    updateTable(data);
  </script>
</body>
</html>
